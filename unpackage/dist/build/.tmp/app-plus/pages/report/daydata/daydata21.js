(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/report/daydata/daydata21"],{"4fd4":function(t,e,a){"use strict";a.r(e);var n=a("fdaf"),r=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);e["default"]=r.a},"64a5":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=(t._self._c,t.listData.map(function(e,a){var n=t._f("intFielter")(e.faqi),r=t._f("emptyFielter")(e.faqiType),i=t._f("emptyFielter")(e.fcontaminants);return{$orig:t.__get_orig(e),f0:n,f1:r,f2:i}}));t.$mp.data=Object.assign({},{$root:{l0:a}})},r=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return r})},cfff:function(t,e,a){},d9eb:function(t,e,a){"use strict";var n=a("cfff"),r=a.n(n);r.a},fdaf:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r,i=function(){return Promise.all([a.e("common/vendor"),a.e("components/w-picker/w-picker")]).then(a.bind(null,"7099"))},o={components:{wPicker:i},onLoad:function(){n=this;var e=this.getNowQuarter();t.getSystemInfo({success:function(t){r=t.screenWidth-10}}),this.setPageTitle(e);var a=e.split(" "),i=a[0],o=this.getQuarter(a[1]);this.getListData(i,o),this.getChartData(i,o)},data:function(){return{title:"Hello",sdate:this.getNowQuarter(),tabList:[{mode:"yearQuarter",name:"年季",value:[this.getNowYear(),0]}],tabIndex:0,listData:[]}},computed:{mode:function(){return this.tabList[this.tabIndex].mode},defaultVal:function(){return this.tabList[this.tabIndex].value}},onReady:function(){},methods:{toggleTab:function(t){this.tabIndex=t,this.$refs.picker.show()},onConfirm:function(t){var e=t.result;this.sdate=e,this.setPageTitle(e);var a=e.split(" "),n=a[0],r=this.getQuarter(a[1]);this.getListData(n,r),this.getChartData(n,r)},getChartData:function(t,e){n.http.get("getQuarterLineChart",{year:t,quarter:e,fsiteNo:this.$store.state.userInfo.userOrgNo}).then(function(t){if(200===t.data.code){var e=[];e=t.data.data.list.map(function(t){return t.ftime});var a=[];a[0]={name:"AQI",data:[]};var i=t.data.data.list.map(function(t){return t.faqi});a[0].data=i||[],n.util.showChartLine("charts",e,a,r)}else n.util.showToast(t.data.msg)})},ShowCharts:function(t,e){e[0].data.length<=0&&e[0].data.push(0),new wxCharts({canvasId:"charts",type:"line",legend:!0,fontSize:11,background:"#FFFFFF",animation:!1,categories:t,series:e,width:r,height:280,pixelRatio:1})},getListData:function(t,e){n.http.get("getQuarterAirData",{year:t,quarter:e,fsiteNo:this.$store.state.userInfo.userOrgNo}).then(function(t){200===t.data.code?n.listData=t.data.data.list:n.util.showToast(t.data.msg)})},goDetail:function(e,a){var n={id:e,storeName:a,date:this.sdate};t.navigateTo({url:"daydata22?detail="+encodeURIComponent(JSON.stringify(n))})},getNowQuarter:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,n="";a<=3?n="第一季度":a<=6?n="第二季度":a<=9?n="第三季度":a<=12&&(n="第四季度");var r=e+" "+n;return r},getQuarter:function(t){switch(t){case"第一季度":return 1;case"第二季度":return 2;case"第三季度":return 3;default:return 4}},getNowYear:function(){var t=new Date,e=t.getFullYear(),a=e-2018;return a},setPageTitle:function(e){t.setNavigationBarTitle({title:e+" 市空气质量"})}}};e.default=o}).call(this,a("6e42")["default"])},ff60:function(t,e,a){"use strict";a.r(e);var n=a("64a5"),r=a("4fd4");for(var i in r)"default"!==i&&function(t){a.d(e,t,function(){return r[t]})}(i);a("d9eb");var o=a("2877"),s=Object(o["a"])(r["default"],n["a"],n["b"],!1,null,null,null);e["default"]=s.exports}},[["8dba","common/runtime","common/vendor"]]]);