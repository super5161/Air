(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/sys/update"],{1240:function(t,n,a){"use strict";(function(t,a){var e;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s={data:function(){return{latestVerson:"",currentVerson:"",updateInfo:"",buttonLoading:!1,startProgress:!1,downloadTask:null,downloadProgress:0,androidLink:"",iosLink:""}},onReady:function(){e=this,this.getLatest()},methods:{getLatest:function(){var t=this.sys.getSysInfo();this.http.get("smartPhone/getAppVersionInfo",{appNo:t.appId},{baseUrl:t.updateServer}).then(function(n){200===n.data.code&&(e.currentVerson=t.sysVersion,e.latestVerson=n.data.data.verson,e.updateInfo=n.data.data.updateInfo,e.androidLink=n.data.data.androidLink,e.iosLink=n.data.data.iosLink)})},closeTask:function(){this.downloadTask.abort(),this.downloadTask=null,this.startProgress=!1,this.buttonLoading=!1,this.downloadProgress=0},createTask:function(){var n=this;this.buttonLoading=!0,this.startProgress=!0,this.downloadProgress=0,this.downloadTask=t.downloadFile({url:e.androidLink,success:function(a){200===a.statusCode&&t.saveFile({tempFilePath:a.tempFilePath,success:function(t){var a=t.savedFilePath;plus.runtime.install(a,{force:!0}),n.closeTask()}})}}),this.downloadTask.onProgressUpdate(function(t){n.downloadProgress=t.progress})},handleUpdate:function(){switch(t.getSystemInfoSync().platform){case"android":this.createTask();break;case"ios":plus.runtime.openURL(this.iosLink);break;default:console.log(a("运行在开发者工具上"," at pages\\sys\\update.vue:116"));break}}}};n.default=s}).call(this,a("6e42")["default"],a("0de9")["default"])},"2a98":function(t,n,a){"use strict";var e=a("4b8c"),s=a.n(e);s.a},"4b8c":function(t,n,a){},"59c8":function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement;t._self._c},s=[];a.d(n,"a",function(){return e}),a.d(n,"b",function(){return s})},"6eec":function(t,n,a){"use strict";a.r(n);var e=a("59c8"),s=a("f93e");for(var o in s)"default"!==o&&function(t){a.d(n,t,function(){return s[t]})}(o);a("2a98");var r=a("2877"),i=Object(r["a"])(s["default"],e["a"],e["b"],!1,null,null,null);n["default"]=i.exports},f93e:function(t,n,a){"use strict";a.r(n);var e=a("1240"),s=a.n(e);for(var o in e)"default"!==o&&function(t){a.d(n,t,function(){return e[t]})}(o);n["default"]=s.a}},[["8d97","common/runtime","common/vendor"]]]);